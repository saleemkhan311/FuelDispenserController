<Page  
    x:Class="FuelDispenserController.Views.DataGridPage"  
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"  
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"  
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"  
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls" xmlns:viewmodels="using:FuelDispenserController.ViewModels" d:DataContext="{d:DesignInstance Type=viewmodels:DataGridViewModel}"  
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"  
    mc:Ignorable="d">  

    <Grid x:Name="ContentArea">  
        <Grid.RowDefinitions>  
            <RowDefinition Height="55"/>  
            <RowDefinition Height="*"/>  
            <RowDefinition Height="50"/>  
        </Grid.RowDefinitions>  

        <controls:DataGrid Grid.Row="1"  
                         AutoGenerateColumns="False"  
                         GridLinesVisibility="Horizontal"  
                         ItemsSource="{x:Bind Reports, Mode=TwoWay}"
                           AlternatingRowBackground="Black" HeadersVisibility="Column"
                           x:Name="DatabaseTable"
                           IsReadOnly="False">  
                
            <controls:DataGrid.Resources >  
                <SolidColorBrush x:Key="DataGridColumnHeaderBackgroundColor" Color="Transparent" />  
            </controls:DataGrid.Resources>  
            <controls:DataGrid.Columns>  
                <controls:DataGridTextColumn Binding="{Binding Token, Mode=TwoWay}" Header="ٹوکن" IsReadOnly="True" />  
                <controls:DataGridTextColumn Binding="{Binding OperatorName}" Header="پمپ آپریٹر" IsReadOnly="False"/>
                <controls:DataGridTextColumn Binding="{Binding Quantity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Header="مقدار" IsReadOnly="False"/>  
                <controls:DataGridTextColumn Binding="{Binding Rate}" Header="فی لیٹر" IsReadOnly="False" />  
                <controls:DataGridTextColumn Binding="{Binding TotalAmount}" Header="کل رقم" IsReadOnly="False" />  
                <controls:DataGridTextColumn Binding="{Binding Date_Time}" Header="تاریخ/وقت" IsReadOnly="True" />  
                <controls:DataGridTextColumn Binding="{Binding User}" Header="یوزر" IsReadOnly="True" />  
            </controls:DataGrid.Columns>  
        </controls:DataGrid>  

        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" Spacing="20">

            <TabView x:Name="UnitSelector"
         IsAddTabButtonVisible="False"
         SelectionChanged="UnitSelector_SelectionChanged"
         Margin="10">

                <TabView.Resources>
                    <!-- Make selected tab more visible -->
                    <SolidColorBrush x:Key="TabViewItemHeaderBackgroundSelected" Color="#2D89EF" />
                    <SolidColorBrush x:Key="TabViewItemHeaderForegroundSelected" Color="White"  />

                    <!-- Optional: hover background -->
                    <SolidColorBrush x:Key="TabViewItemHeaderBackgroundPointerOver" Color="#1A1A1A" />
                </TabView.Resources>

                <TabViewItem Header="Unit 1" IsClosable="False"  FontSize="29" FontWeight="Bold"/>
                <TabViewItem Header="Unit 2" IsClosable="False" />
                <TabViewItem Header="Unit 3" IsClosable="False" />
                <TabViewItem Header="Unit 4" IsClosable="False" />
            </TabView>

            
        </StackPanel>  

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Bottom" Spacing="20" Margin="0,0,0,20">
            <Button Content="Save to Excel"  Background="#4EA8FC" Foreground="White" Width="120" />
            <Button Content="Reset Database"  Background="#4EA8FC" Foreground="White" Width="120" />
            <Button Content="Delete"  Background="#4EA8FC" Foreground="White" Width="120" Click="DeleteButton_Click" />
            <Button Content="Update"  Background="#4EA8FC" Foreground="White" Width="120" Click="UpdateButton_Click" />  
        </StackPanel>  

    </Grid>  
</Page>
